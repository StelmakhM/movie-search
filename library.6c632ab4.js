!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var a=document.querySelector(".js-watched"),r=document.querySelector(".js-queue");a.addEventListener("click",(function(){a.classList.add("header__button--active"),r.classList.remove("header__button--active")})),r.addEventListener("click",(function(){a.classList.remove("header__button--active"),r.classList.add("header__button--active")}));var c=o("6PCQj"),i=o("cDXQO"),d={closeModalBtn:document.querySelector("[data-modal-close]"),filmCard:document.querySelector(".films__list"),backdropEl:document.querySelector(".backdrop"),startTrailerBtn:document.querySelector(".trailer__btn"),addToWatchedBtn:document.querySelector(".btn-add-watched"),addToQueueBtn:document.querySelector(".btn-add-queue")};function l(e){d.backdropEl.classList.add("is-hidden"),document.removeEventListener("keydown",s),document.body.style.overflow=""}function s(e){"Escape"===e.code&&l()}function u(e){e.target===d.backdropEl&&l()}d.filmCard.addEventListener("click",(function(e){if(!e.target.closest(".films__item"))return;d.backdropEl.classList.remove("is-hidden"),d.closeModalBtn.addEventListener("click",l),document.addEventListener("keydown",s),document.addEventListener("click",u),document.body.style.overflow="hidden",(0,c.renderFilmCard)(e)})),d.startTrailerBtn.addEventListener("click",(function(e){return(0,i.launchTrailer)(e)})),o("aZhHc");var m=o("9ZPoN"),f=o("jzQFI"),v=o("iU1Pc"),p="watchedList",y="queueList",h=(0,f.getFromLocalStorage)(p)||[],L=(0,f.getFromLocalStorage)(y)||[],g={filmContainer:document.querySelector(".films__list"),watchedBtn:document.querySelector(".js-watched"),queueBtn:document.querySelector(".js-queue"),removeFromWatchedBtn:document.querySelector(".btn-add-watched"),removeFromQueueBtn:document.querySelector(".btn-add-queue"),backdropEl:document.querySelector(".backdrop")},w=new(0,m.MovieApi);function _(e){return e.map((function(e){var t=e.genres,n=e.originalTitle,o=e.overview,a=e.populatiry,r=e.posterPath,c=e.releaseDate,i=e.title,d=e.voteAverage,l=e.voteCount,s=e.id,u=t.split(","),m=new Date(c).getFullYear(),f=r?"".concat(w.imgUrl).concat(w.imgSize).concat(r):"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg";return" <li class='films__item' style=\"min-height:100px\" data-id='".concat(s,"' data-title='").concat(i,"' data-release-date='").concat(c,"' data-poster-path='").concat(r,"' data-genres='").concat(t,"' data-vote-average='").concat(d,"' data-vote-count='").concat(l,"' data-original-title='").concat(n,"' data-overview='").concat(o,"' data-populatiry='").concat(a,"'>\n                    <a class='films__link'>\n                    <img class='films__poster' src='").concat(f,"' alt='").concat(i," poster' />\n                    <div class='films__info'>\n                    <h2 class='films__title'>").concat(i,"</h2>\n                    <p class='films__genres'>").concat(u.length>3?u[0]+", "+u[1]+" and others":u.join(", ")||"No genre"," | ").concat(m||"Unknown release date","</p>\n                    </div></a>\n                </li>")})).join("")}window.addEventListener("load",(function(){g.removeFromWatchedBtn.innerHTML="Remove from watched",g.removeFromQueueBtn.style.display="none",g.filmContainer.innerHTML=_(h)})),g.watchedBtn.addEventListener("click",(function(){g.removeFromWatchedBtn.style.display="block",g.removeFromWatchedBtn.innerHTML="Remove from watched",g.removeFromQueueBtn.style.display="none",g.filmContainer.innerHTML=_(h)})),g.queueBtn.addEventListener("click",(function(){g.removeFromQueueBtn.style.display="block",g.removeFromQueueBtn.innerHTML="Remove from queue",g.removeFromWatchedBtn.style.display="none",g.filmContainer.innerHTML=_(L)})),g.removeFromWatchedBtn.addEventListener("click",(function(e){var t=e.target.closest("#film-modal").dataset.id,n=h.find((function(e){return e.id===t}));h.splice(h.indexOf(n),1),(0,f.addToLocalStorage)(p,h),g.filmContainer.innerHTML=_(h),l(),v.Notify.success("This movie was successfully removed from your watched list")})),g.removeFromQueueBtn.addEventListener("click",(function(e){var t=e.target.closest("#film-modal").dataset.id,n=L.find((function(e){return e.id===t}));L.splice(L.indexOf(n),1),(0,f.addToLocalStorage)(y,L),g.filmContainer.innerHTML=_(L),l(),v.Notify.success("This movie was successfully removed from your queue list")})),o("bLMy2"),o("lD4MA"),o("gbaZB"),o("01oG5")}();
//# sourceMappingURL=library.6c632ab4.js.map
