{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,oGCEzD,MAAMC,EAAwBC,SAASC,cAAc,eAC/CC,EAAsBF,SAASC,cAAc,aAEnDF,EAAsBI,iBAAiB,SAGvC,WACEJ,EAAsBK,UAAUC,OAAO,0BACvCH,EAAoBE,UAAUE,OAAO,yB,IAJvCJ,EAAoBC,iBAAiB,SAOrC,WACEJ,EAAsBK,UAAUE,OAAO,0BACvCJ,EAAoBE,UAAUC,OAAO,yB,UCfvCE,EAAiB,IAAAC,IAAoBb,EAAA,SAAAc,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCE5F,MAAMC,EAAO,CACTC,SAAUf,SAASC,cAAc,UACjCe,eAAgBhB,SAASC,cAAc,iBAGpC,SAASgB,EAAeC,GAC3B,MACMC,EAAa,IADHD,EAAEE,OAAOC,QAAQ,MAAMC,UAKjCC,OAAEA,EAAMC,cAAEA,EAAaC,SAAEA,EAAQC,WAAEA,EAAUC,MAAEA,EAAKC,YAAEA,EAAWC,UAAEA,EAASC,WAAEA,EAAUtC,GAAEA,EAAEuC,YAAEA,GAAgBZ,EAC9Ga,EAAcT,EAAOU,MAAM,KAC3BC,EAAcF,EAAYzC,OAAS,EAAIyC,EAAY,GAAK,KAAOA,EAAY,GAAK,cAAgBA,EAAYG,KAAK,OAAS,WAC1HC,EAAS,uCACiBb,2BAAgCC,qBAAiCC,uBAA8BC,kBAA2BC,yBAA6BC,uBAAiCC,uBAA+BC,eAAwBtC,yBAA0BuC,oJAGrRM,EAAA9B,yJAKDmB,SAAkBC,iFAGEA,GAASH,mjBAUKc,OAAOC,WAAWX,GAAaY,QAAQ,wHAEhEX,gHAGiBS,OAAOC,WAAWT,GAAYU,QAAQ,0DACtCb,GAASH,qDACbU,6IAIFT,iWAavCX,EAAKC,SAAS0B,UAAYL,C,CC5D9B,MAAMM,EAAO,CACXC,cAAe3C,SAASC,cAAc,sBACtCc,SAAUf,SAASC,cAAc,gBACjC2C,WAAY5C,SAASC,cAAc,cAkBrC,SAAS4C,EAAW3B,GAClBwB,EAAKE,WAAWxC,UAAU0C,IAAI,aAC9B9C,SAAS+C,oBAAoB,UAAWC,GACxChD,SAASiD,KAAKC,MAAMC,SAAW,E,CAGjC,SAASH,EAAU9B,GACF,WAAXA,EAAEkC,MACJP,G,CAIJ,SAASQ,EAAgBnC,GACnBA,EAAEE,SAAWsB,EAAKE,aACpBC,IACAS,QAAQC,IAAIrC,EAAEE,Q,CA9BlBsB,EAAK3B,SAASZ,iBAAiB,SAE/B,SAAqBe,GAEnB,IADaA,EAAEE,OAAOC,QAAQ,gBAE5B,OAEFqB,EAAKE,WAAWxC,UAAUE,OAAO,aACjCoC,EAAKC,cAAcxC,iBAAiB,QAAS0C,GAC7C7C,SAASG,iBAAiB,UAAW6C,GACrChD,SAASG,iBAAiB,QAASkD,GACnCrD,SAASiD,KAAKC,MAAMC,SAAW,SAC/BlC,EAAeC,E","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e9b3be2cd7bb8193.js","src/js/header-library.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/js/render-film-card.js","src/js/modal-film.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.195034dd.js\\\",\\\"lp5u4\\\":\\\"sprite.786c7fd5.svg\\\"}\"));","// ----------------Переключение между кнопками-----------------\n\nconst headerWatchedButtonEl = document.querySelector('.js-watched');\nconst headerQueueButtonEl = document.querySelector('.js-queue');\n\nheaderWatchedButtonEl.addEventListener('click', onWatched);\nheaderQueueButtonEl.addEventListener('click', onQueue);\n\nfunction onWatched() {\n  headerWatchedButtonEl.classList.toggle('header__button--active');\n  headerQueueButtonEl.classList.remove('header__button--active');\n}\n\nfunction onQueue() {\n  headerWatchedButtonEl.classList.remove('header__button--active');\n  headerQueueButtonEl.classList.toggle('header__button--active');\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","import imgPath from '../images/sprite.svg';\n\nconst refs = {\n    filmCard: document.querySelector('.modal'),\n    filmsContainer: document.querySelector('.films__list')\n};\n\nexport function renderFilmCard(e) {\n    const dataset = e.target.closest('li').dataset;\n    const filmObject = {\n        ...dataset\n    };\n\n    const { genres, originalTitle, overview, posterPath, title, voteAverage, voteCount, populatiry, id, releaseDate } = filmObject;\n    const arrOfGenres = genres.split(',');\n    const fixedGenres = arrOfGenres.length > 3 ? arrOfGenres[0] + ', ' + arrOfGenres[1] + ' and others' : arrOfGenres.join(', ') || 'No genre';\n    const markUp = `\n  <div class=\"modal\" data-genres='${genres}' data-original-title='${originalTitle}' data-overview='${overview}' data-posterPath='${posterPath}' data-title='${title}' data-vote-average='${voteAverage}' data-vote-count='${voteCount}' data-populatiry='${populatiry}' data-id='${id}' data-release-date='${releaseDate}'>\n    <button class=\"modal__btn-close\" data-modal-close>\n        <svg class=\"icon icon-close\" width=\"16\" height=\"16\">\n            <use href=${imgPath}#icon-close></use>\n        </svg>\n    </button>\n    <div class=\"general-wrapper\">\n        <div class=\"card__img-wrapper\">\n            <img src=${posterPath} alt=${title} />\n        </div>\n        <div>\n            <h2 class=\"card__film-title\">${title || originalTitle}</h2>\n            <div class=\"card__info-wrapper\">\n                <div class=\"card__info-wrapper-left\">\n                    <p class=\"card__subdivision card__votes\">Vote/Votes</p>\n                    <p class=\"card__subdivision\">Popularity</p>\n                    <p class=\"card__subdivision\">Original Title</p>\n                    <p class=\"card__subdivision\">Genre</p>\n                </div>\n                <div class=\"card__info-wrapper-right\">\n                    <p class=\"card__votes\">\n                        <span class=\"card__vote-title\">${Number.parseFloat(voteAverage).toFixed(1)}</span> /\n                        <span class=\"card__info-text card__vote-number\">\n                              ${voteCount}\n                        </span>\n                    </p>\n                    <p class=\"card__info-text\">${Number.parseFloat(populatiry).toFixed(1)}</p>\n                    <p class=\"card__info-text\">${title || originalTitle}</p>\n                    <p class=\"card__genre\">${fixedGenres}</p>\n                </div>\n            </div>\n            <p class=\"card__about\">About</p>\n            <p class=\"card__description\">${overview}</p>\n            <div class=\"btn-wrapper\">\n                <button class=\"btn-add-watched\" type=\"button\">\n                    add to Watched\n                </button>\n                <button class=\"btn-add-queue\" type=\"button\">\n                    add to queue\n                </button>\n            </div>\n        </div>\n    </div>\n</div>`;\n\n    refs.filmCard.innerHTML = markUp;\n\n}\n\n","import { renderFilmCard } from \"./render-film-card\";\n\nconst refs = {\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  filmCard: document.querySelector('.films__list'),\n  backdropEl: document.querySelector('.backdrop'),\n};\n\nrefs.filmCard.addEventListener('click', toggleModal);\n\nfunction toggleModal(e) {\n  const item = e.target.closest('.films__item');\n  if (!item) {\n    return;\n  }\n  refs.backdropEl.classList.remove('is-hidden');\n  refs.closeModalBtn.addEventListener('click', closeModal);\n  document.addEventListener('keydown', onEscDown);\n  document.addEventListener('click', onBackdropClick);\n  document.body.style.overflow = 'hidden';\n  renderFilmCard(e);\n}\n\nfunction closeModal(e) {\n  refs.backdropEl.classList.add('is-hidden');\n  document.removeEventListener('keydown', onEscDown);\n  document.body.style.overflow = '';\n}\n\nfunction onEscDown(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.backdropEl) {\n    closeModal();\n    console.log(e.target);\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$aa1852bce7d92573$var$headerWatchedButtonEl","document","querySelector","$aa1852bce7d92573$var$headerQueueButtonEl","addEventListener","classList","toggle","remove","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$c58cbb64ab1fde33$var$refs","filmCard","filmsContainer","$c58cbb64ab1fde33$export$ba095b229a87e01b","e","filmObject","target","closest","dataset","genres","originalTitle","overview","posterPath","title","voteAverage","voteCount","populatiry","releaseDate","arrOfGenres","split","fixedGenres","join","markUp","$parcel$interopDefault","Number","parseFloat","toFixed","innerHTML","$b89ac968f8ae7162$var$refs","closeModalBtn","backdropEl","$b89ac968f8ae7162$var$closeModal","add","removeEventListener","$b89ac968f8ae7162$var$onEscDown","body","style","overflow","code","$b89ac968f8ae7162$var$onBackdropClick","console","log"],"version":3,"file":"library.195034dd.js.map"}