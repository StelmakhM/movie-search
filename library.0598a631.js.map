{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/header-library.js","node_modules/@swc/helpers/lib/_object_spread.js","src/js/render-film-card.js","src/js/modal-film.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","// ----------------Переключение между кнопками-----------------\n\nconst headerWatchedButtonEl = document.querySelector('.js-watched');\nconst headerQueueButtonEl = document.querySelector('.js-queue');\n\nheaderWatchedButtonEl.addEventListener('click', onWatched);\nheaderQueueButtonEl.addEventListener('click', onQueue);\n\nfunction onWatched() {\n  headerWatchedButtonEl.classList.toggle('header__button--active');\n  headerQueueButtonEl.classList.remove('header__button--active');\n}\n\nfunction onQueue() {\n  headerWatchedButtonEl.classList.remove('header__button--active');\n  headerQueueButtonEl.classList.toggle('header__button--active');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","const refs = {\n    filmCard: document.querySelector('.modal'),\n    filmsContainer: document.querySelector('.films__list'),\n    cardTitle : document.querySelector('[data-card-title]'),\n    cardAvarageVotes : document.querySelector('[data-card-avarage-votes]'),\n    cardTotalVotes : document.querySelector('[data-card-total-votes]'),\n    cardPopularity: document.querySelector('[data-card-popularity]'),\n    cardOriginalTitle : document.querySelector('[data-card-original-title]'),\n    cardGenres : document.querySelector('[data-card-genre]'),\n    cardOverview : document.querySelector('[data-card-overview]'),\n    cardImage : document.querySelector('[data-card-image]'),\n    cardModal : document.querySelector('[data-card-modal]')\n};\n\nexport function renderFilmCard(e) {\n    const dataset = e.target.closest('li').dataset;\n    const filmObject = {\n        ...dataset\n    };\n    const { genres, originalTitle, overview, posterPath, title, voteAverage, voteCount, populatiry} = filmObject;\n    const arrOfGenres = genres.split(',');\n    const fixedGenres = arrOfGenres.length > 3 ? arrOfGenres[0] + ', ' + arrOfGenres[1] + ' and others' : arrOfGenres.join(', ') || 'No genre';\n    refs.cardTitle.innerHTML = title;\n    refs.cardAvarageVotes.innerHTML = Number.parseFloat(voteAverage).toFixed(1);\n    refs.cardTotalVotes.innerHTML = voteCount;\n    refs.cardPopularity.innerHTML = Number.parseFloat(populatiry).toFixed(1);\n    refs.cardOriginalTitle.innerHTML = originalTitle;\n    refs.cardGenres.innerHTML = fixedGenres;\n    refs.cardOverview.innerHTML = overview;\n    refs.cardImage.src = posterPath;\n    \n\n    for(let attr in filmObject) {\n        if(filmObject.hasOwnProperty(attr)) {\n            refs.cardModal.dataset[attr] = attr;\n        }\n    }\n}\n\n","import { renderFilmCard } from \"./render-film-card\";\n\nconst refs = {\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  filmCard: document.querySelector('.films__list'),\n  backdropEl: document.querySelector('.backdrop'),\n};\n\nrefs.filmCard.addEventListener('click', toggleModal);\n\nfunction toggleModal(e) {\n  const item = e.target.closest('.films__item');\n  if (!item) {\n    return;\n  }\n  refs.backdropEl.classList.remove('is-hidden');\n  refs.closeModalBtn.addEventListener('click', closeModal);\n  document.addEventListener('keydown', onEscDown);\n  document.addEventListener('click', onBackdropClick);\n  document.body.style.overflow = 'hidden';\n  renderFilmCard(e);\n}\n\nfunction closeModal(e) {\n  refs.backdropEl.classList.add('is-hidden');\n  document.removeEventListener('keydown', onEscDown);\n  document.body.style.overflow = '';\n}\n\nfunction onEscDown(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.backdropEl) {\n    closeModal();\n    console.log(e.target);\n  }\n}\n"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$cb53717e68f10b0d$var$headerWatchedButtonEl","document","querySelector","$cb53717e68f10b0d$var$headerQueueButtonEl","addEventListener","classList","toggle","remove","$9eddae5a012cde57$exports","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","parcelRequire","__esModule","$4f95a2de96ad603b$var$refs","filmCard","filmsContainer","cardTitle","cardAvarageVotes","cardTotalVotes","cardPopularity","cardOriginalTitle","cardGenres","cardOverview","cardImage","cardModal","$4f95a2de96ad603b$export$ba095b229a87e01b","e","dataset","closest","filmObject","$parcel$interopDefault","genres","originalTitle","overview","posterPath","title","voteAverage","voteCount","populatiry","arrOfGenres","split","fixedGenres","join","attr","innerHTML","Number","parseFloat","toFixed","src","hasOwnProperty","$523884499027de00$var$refs","closeModalBtn","backdropEl","$523884499027de00$var$closeModal","add","removeEventListener","$523884499027de00$var$onEscDown","body","style","overflow","code","$523884499027de00$var$onBackdropClick","console","log"],"version":3,"file":"library.0598a631.js.map"}