var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);const r=document.querySelector(".js-watched"),a=document.querySelector(".js-queue");r.addEventListener("click",(function(){r.classList.add("header__button--active"),a.classList.remove("header__button--active")})),a.addEventListener("click",(function(){r.classList.remove("header__button--active"),a.classList.add("header__button--active")}));var i=o("gXygc"),d=o("37v9V");const c={closeModalBtn:document.querySelector("[data-modal-close]"),filmCard:document.querySelector(".films__list"),backdropEl:document.querySelector(".backdrop"),startTrailerBtn:document.querySelector(".trailer__btn"),addToWatchedBtn:document.querySelector(".btn-add-watched"),addToQueueBtn:document.querySelector(".btn-add-queue")};function l(e){c.backdropEl.classList.add("is-hidden"),document.removeEventListener("keydown",s),document.body.style.overflow=""}function s(e){"Escape"===e.code&&l()}function u(e){e.target===c.backdropEl&&l()}c.filmCard.addEventListener("click",(function(e){if(!e.target.closest(".films__item"))return;c.backdropEl.classList.remove("is-hidden"),c.closeModalBtn.addEventListener("click",l),document.addEventListener("keydown",s),document.addEventListener("click",u),document.body.style.overflow="hidden",(0,i.renderFilmCard)(e)})),c.startTrailerBtn.addEventListener("click",(e=>(0,d.launchTrailer)(e))),o("7bYU0");var m=o("cBso0"),v=o("5uEKZ"),f=o("eWCmQ");const p=(0,v.getFromLocalStorage)("watchedList")||[],y=(0,v.getFromLocalStorage)("queueList")||[],h={filmContainer:document.querySelector(".films__list"),watchedBtn:document.querySelector(".js-watched"),queueBtn:document.querySelector(".js-queue"),removeFromWatchedBtn:document.querySelector(".btn-add-watched"),removeFromQueueBtn:document.querySelector(".btn-add-queue"),backdropEl:document.querySelector(".backdrop")},L=new(0,m.MovieApi);function g(e){return e.map((({genres:e,originalTitle:t,overview:n,populatiry:o,posterPath:r,releaseDate:a,title:i,voteAverage:d,voteCount:c,id:l})=>{const s=e.split(","),u=new Date(a).getFullYear();return` <li class='films__item' style="min-height:100px" data-id='${l}' data-title='${i}' data-release-date='${a}' data-poster-path='${r}' data-genres='${e}' data-vote-average='${d}' data-vote-count='${c}' data-original-title='${t}' data-overview='${n}' data-populatiry='${o}'>\n                    <a class='films__link'>\n                    <img class='films__poster' src='${r?`${L.imgUrl}${L.imgSize}${r}`:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg"}' alt='${i} poster' />\n                    <div class='films__info'>\n                    <h2 class='films__title'>${i}</h2>\n                    <p class='films__genres'>${s.length>3?s[0]+", "+s[1]+" and others":s.join(", ")||"No genre"} | ${u||"Unknown release date"}</p>\n                    </div></a>\n                </li>`})).join("")}window.addEventListener("load",(function(){h.removeFromWatchedBtn.innerHTML="Remove from watched",h.removeFromQueueBtn.style.display="none",h.filmContainer.innerHTML=g(p)})),h.watchedBtn.addEventListener("click",(function(){h.removeFromWatchedBtn.style.display="block",h.removeFromWatchedBtn.innerHTML="Remove from watched",h.removeFromQueueBtn.style.display="none",h.filmContainer.innerHTML=g(p)})),h.queueBtn.addEventListener("click",(function(){h.removeFromQueueBtn.style.display="block",h.removeFromQueueBtn.innerHTML="Remove from queue",h.removeFromWatchedBtn.style.display="none",h.filmContainer.innerHTML=g(y)})),h.removeFromWatchedBtn.addEventListener("click",(function(e){const t=e.target.closest("#film-modal").dataset.id,n=p.find((e=>e.id===t));p.splice(p.indexOf(n),1),(0,v.addToLocalStorage)("watchedList",p),h.filmContainer.innerHTML=g(p),l(),f.Notify.success("This movie was successfully removed from your watched list")})),h.removeFromQueueBtn.addEventListener("click",(function(e){const t=e.target.closest("#film-modal").dataset.id,n=y.find((e=>e.id===t));y.splice(y.indexOf(n),1),(0,v.addToLocalStorage)("queueList",y),h.filmContainer.innerHTML=g(y),l(),f.Notify.success("This movie was successfully removed from your queue list")})),o("1h4OK"),o("cxCVv"),o("aR4bl"),o("zEbIk");
//# sourceMappingURL=library.005b900c.js.map
