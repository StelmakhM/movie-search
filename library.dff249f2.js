var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);const r=document.querySelector(".js-watched"),i=document.querySelector(".js-queue");r.addEventListener("click",(function(){r.classList.toggle("header__button--active"),i.classList.remove("header__button--active")})),i.addEventListener("click",(function(){r.classList.remove("header__button--active"),i.classList.toggle("header__button--active")}));var a=n("gXygc"),d=n("37v9V");const l={closeModalBtn:document.querySelector("[data-modal-close]"),filmCard:document.querySelector(".films__list"),backdropEl:document.querySelector(".backdrop"),startTrailerBtn:document.querySelector(".trailer__btn"),addToWatchedBtn:document.querySelector(".btn-add-watched"),addToQueueBtn:document.querySelector(".btn-add-queue")};function c(e){l.backdropEl.classList.add("is-hidden"),document.removeEventListener("keydown",s),document.body.style.overflow=""}function s(e){"Escape"===e.code&&c()}function u(e){e.target===l.backdropEl&&c()}l.filmCard.addEventListener("click",(function(e){if(!e.target.closest(".films__item"))return;l.backdropEl.classList.remove("is-hidden"),l.closeModalBtn.addEventListener("click",c),document.addEventListener("keydown",s),document.addEventListener("click",u),document.body.style.overflow="hidden",(0,a.renderFilmCard)(e)})),l.startTrailerBtn.addEventListener("click",(e=>(0,d.launchTrailer)(e))),n("7bYU0");var m=n("cBso0"),v=n("5uEKZ"),f=n("eWCmQ");const p=(0,v.getFromLocalStorage)("watchedList")||[],y=(0,v.getFromLocalStorage)("queueList")||[],h={filmContainer:document.querySelector(".films__list"),watchedBtn:document.querySelector(".js-watched"),queueBtn:document.querySelector(".js-queue"),removeFromWatchedBtn:document.querySelector(".btn-add-watched"),removeFromQueueBtn:document.querySelector(".btn-add-queue"),backdropEl:document.querySelector(".backdrop")},g=new(0,m.MovieApi);function L(e){return e.map((({genres:e,originalTitle:t,overview:o,populatiry:n,posterPath:r,releaseDate:i,title:a,voteAverage:d,voteCount:l,id:c})=>{const s=e.split(","),u=new Date(i).getFullYear();return` <li class='films__item' style="min-height:100px" data-id='${c}' data-title='${a}' data-release-date='${i}' data-poster-path='${r}' data-genres='${e}' data-vote-average='${d}' data-vote-count='${l}' data-original-title='${t}' data-overview='${o}' data-populatiry='${n}'>\n                    <a class='films__link'>\n                    <img class='films__poster' src='${r?`${g.imgUrl}${g.imgSize}${r}`:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg"}' alt='${a} poster' />\n                    <div class='films__info'>\n                    <h2 class='films__title'>${a}</h2>\n                    <p class='films__genres'>${s.length>3?s[0]+", "+s[1]+" and others":s.join(", ")||"No genre"} | ${u||"Unknown release date"}</p>\n                    </div></a>\n                </li>`})).join("")}window.addEventListener("load",(function(){h.removeFromWatchedBtn.innerHTML="Remove from watched",h.removeFromQueueBtn.style.display="none",h.filmContainer.innerHTML=L(p)})),h.watchedBtn.addEventListener("click",(function(){h.removeFromWatchedBtn.style.display="block",h.removeFromWatchedBtn.innerHTML="Remove from watched",h.removeFromQueueBtn.style.display="none",h.filmContainer.innerHTML=L(p)})),h.queueBtn.addEventListener("click",(function(){h.removeFromQueueBtn.style.display="block",h.removeFromQueueBtn.innerHTML="Remove from queue",h.removeFromWatchedBtn.style.display="none",h.filmContainer.innerHTML=L(y)})),h.removeFromWatchedBtn.addEventListener("click",(function(e){const t=e.target.closest("#film-modal").dataset.id,o=p.find((e=>e.id===t));p.splice(p.indexOf(o),1),(0,v.addToLocalStorage)("watchedList",p),h.filmContainer.innerHTML=L(p),c(),f.Notify.success("This movie was successfully removed from your watched list")})),h.removeFromQueueBtn.addEventListener("click",(function(e){const t=e.target.closest("#film-modal").dataset.id,o=y.find((e=>e.id===t));y.splice(y.indexOf(o),1),(0,v.addToLocalStorage)("queueList",y),h.filmContainer.innerHTML=L(y),c(),f.Notify.success("This movie was successfully removed from your queue list")})),n("1h4OK"),n("cxCVv"),n("aR4bl"),n("zEbIk");
//# sourceMappingURL=library.dff249f2.js.map
