const e=document.querySelector(".js-watched"),t=document.querySelector(".js-queue");e.addEventListener("click",(function(){e.classList.toggle("header__button--active"),t.classList.remove("header__button--active")})),t.addEventListener("click",(function(){e.classList.remove("header__button--active"),t.classList.toggle("header__button--active")}));const r={filmCard:document.querySelector(".modal"),filmsContainer:document.querySelector(".films__list"),cardTitle:document.querySelector("[data-card-title]"),cardAvarageVotes:document.querySelector("[data-card-avarage-votes]"),cardTotalVotes:document.querySelector("[data-card-total-votes]"),cardPopularity:document.querySelector("[data-card-popularity]"),cardOriginalTitle:document.querySelector("[data-card-original-title]"),cardGenres:document.querySelector("[data-card-genre]"),cardOverview:document.querySelector("[data-card-overview]"),cardImage:document.querySelector("[data-card-image]"),cardModal:document.querySelector("[data-card-modal]")};function a(e){const t={...e.target.closest("li").dataset},{genres:a,originalTitle:o,overview:c,posterPath:d,title:n,voteAverage:l,voteCount:i,populatiry:s}=t,u=a.split(","),m=u.length>3?u[0]+", "+u[1]+" and others":u.join(", ")||"No genre";r.cardTitle.innerHTML=n,r.cardAvarageVotes.innerHTML=Number.parseFloat(l).toFixed(1),r.cardTotalVotes.innerHTML=i,r.cardPopularity.innerHTML=Number.parseFloat(s).toFixed(1),r.cardOriginalTitle.innerHTML=o,r.cardGenres.innerHTML=m,r.cardOverview.innerHTML=c,r.cardImage.src=d,console.log(t);for(let e in t)r.cardModal.dataset[e]=t[e]}const o={closeModalBtn:document.querySelector("[data-modal-close]"),filmCard:document.querySelector(".films__list"),backdropEl:document.querySelector(".backdrop")};function c(e){o.backdropEl.classList.add("is-hidden"),document.removeEventListener("keydown",d),document.body.style.overflow=""}function d(e){"Escape"===e.code&&c()}function n(e){e.target===o.backdropEl&&(c(),console.log(e.target))}o.filmCard.addEventListener("click",(function(e){if(!e.target.closest(".films__item"))return;o.backdropEl.classList.remove("is-hidden"),o.closeModalBtn.addEventListener("click",c),document.addEventListener("keydown",d),document.addEventListener("click",n),document.body.style.overflow="hidden",a(e)}));
//# sourceMappingURL=library.56572f38.js.map
