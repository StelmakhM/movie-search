{"mappings":"AAEA,MAAMA,EAAwBC,SAASC,cAAc,eAC/CC,EAAsBF,SAASC,cAAc,aAEnDF,EAAsBI,iBAAiB,SAGvC,WACEJ,EAAsBK,UAAUC,OAAO,0BACvCH,EAAoBE,UAAUE,OAAO,yB,IAJvCJ,EAAoBC,iBAAiB,SAOrC,WACEJ,EAAsBK,UAAUE,OAAO,0BACvCJ,EAAoBE,UAAUC,OAAO,yB,ICfvC,MAAME,EAAO,CACTC,SAAUR,SAASC,cAAc,UACjCQ,eAAgBT,SAASC,cAAc,gBACvCS,UAAYV,SAASC,cAAc,qBACnCU,iBAAmBX,SAASC,cAAc,6BAC1CW,eAAiBZ,SAASC,cAAc,2BACxCY,eAAgBb,SAASC,cAAc,0BACvCa,kBAAoBd,SAASC,cAAc,8BAC3Cc,WAAaf,SAASC,cAAc,qBACpCe,aAAehB,SAASC,cAAc,wBACtCgB,UAAYjB,SAASC,cAAc,qBACnCiB,UAAYlB,SAASC,cAAc,sBAGhC,SAASkB,EAAeC,GAC3B,MACMC,EAAa,IADHD,EAAEE,OAAOC,QAAQ,MAAMC,UAIjCC,OAAEA,EAAMC,cAAEA,EAAaC,SAAEA,EAAQC,WAAEA,EAAUC,MAAEA,EAAKC,YAAEA,EAAWC,UAAEA,EAASC,WAAEA,GAAcX,EAC5FY,EAAcR,EAAOS,MAAM,KAC3BC,EAAcF,EAAYG,OAAS,EAAIH,EAAY,GAAK,KAAOA,EAAY,GAAK,cAAgBA,EAAYI,KAAK,OAAS,WAChI9B,EAAKG,UAAU4B,UAAYT,EAC3BtB,EAAKI,iBAAiB2B,UAAYC,OAAOC,WAAWV,GAAaW,QAAQ,GACzElC,EAAKK,eAAe0B,UAAYP,EAChCxB,EAAKM,eAAeyB,UAAYC,OAAOC,WAAWR,GAAYS,QAAQ,GACtElC,EAAKO,kBAAkBwB,UAAYZ,EACnCnB,EAAKQ,WAAWuB,UAAYH,EAC5B5B,EAAKS,aAAasB,UAAYX,EAC9BpB,EAAKU,UAAUyB,IAAMd,EAGrB,IAAI,IAAIe,KAAQtB,EACTA,EAAWuB,eAAeD,KACzBpC,EAAKW,UAAUM,QAAQmB,GAAQA,E,CChC3C,MAAME,EAAO,CACXC,cAAe9C,SAASC,cAAc,sBACtCO,SAAUR,SAASC,cAAc,gBACjC8C,WAAY/C,SAASC,cAAc,cAkBrC,SAAS+C,EAAW5B,GAClByB,EAAKE,WAAW3C,UAAU6C,IAAI,aAC9BjD,SAASkD,oBAAoB,UAAWC,GACxCnD,SAASoD,KAAKC,MAAMC,SAAW,E,CAGjC,SAASH,EAAU/B,GACF,WAAXA,EAAEmC,MACJP,G,CAIJ,SAASQ,EAAgBpC,GACnBA,EAAEE,SAAWuB,EAAKE,aACpBC,IACAS,QAAQC,IAAItC,EAAEE,Q,CA9BlBuB,EAAKrC,SAASL,iBAAiB,SAE/B,SAAqBiB,GAEnB,IADaA,EAAEE,OAAOC,QAAQ,gBAE5B,OAEFsB,EAAKE,WAAW3C,UAAUE,OAAO,aACjCuC,EAAKC,cAAc3C,iBAAiB,QAAS6C,GAC7ChD,SAASG,iBAAiB,UAAWgD,GACrCnD,SAASG,iBAAiB,QAASqD,GACnCxD,SAASoD,KAAKC,MAAMC,SAAW,SAC/BnC,EAAeC,E","sources":["src/js/header-library.js","src/js/render-film-card.js","src/js/modal-film.js"],"sourcesContent":["// ----------------Переключение между кнопками-----------------\n\nconst headerWatchedButtonEl = document.querySelector('.js-watched');\nconst headerQueueButtonEl = document.querySelector('.js-queue');\n\nheaderWatchedButtonEl.addEventListener('click', onWatched);\nheaderQueueButtonEl.addEventListener('click', onQueue);\n\nfunction onWatched() {\n  headerWatchedButtonEl.classList.toggle('header__button--active');\n  headerQueueButtonEl.classList.remove('header__button--active');\n}\n\nfunction onQueue() {\n  headerWatchedButtonEl.classList.remove('header__button--active');\n  headerQueueButtonEl.classList.toggle('header__button--active');\n}\n","const refs = {\n    filmCard: document.querySelector('.modal'),\n    filmsContainer: document.querySelector('.films__list'),\n    cardTitle : document.querySelector('[data-card-title]'),\n    cardAvarageVotes : document.querySelector('[data-card-avarage-votes]'),\n    cardTotalVotes : document.querySelector('[data-card-total-votes]'),\n    cardPopularity: document.querySelector('[data-card-popularity]'),\n    cardOriginalTitle : document.querySelector('[data-card-original-title]'),\n    cardGenres : document.querySelector('[data-card-genre]'),\n    cardOverview : document.querySelector('[data-card-overview]'),\n    cardImage : document.querySelector('[data-card-image]'),\n    cardModal : document.querySelector('[data-card-modal]')\n};\n\nexport function renderFilmCard(e) {\n    const dataset = e.target.closest('li').dataset;\n    const filmObject = {\n        ...dataset\n    };\n    const { genres, originalTitle, overview, posterPath, title, voteAverage, voteCount, populatiry} = filmObject;\n    const arrOfGenres = genres.split(',');\n    const fixedGenres = arrOfGenres.length > 3 ? arrOfGenres[0] + ', ' + arrOfGenres[1] + ' and others' : arrOfGenres.join(', ') || 'No genre';\n    refs.cardTitle.innerHTML = title;\n    refs.cardAvarageVotes.innerHTML = Number.parseFloat(voteAverage).toFixed(1);\n    refs.cardTotalVotes.innerHTML = voteCount;\n    refs.cardPopularity.innerHTML = Number.parseFloat(populatiry).toFixed(1);\n    refs.cardOriginalTitle.innerHTML = originalTitle;\n    refs.cardGenres.innerHTML = fixedGenres;\n    refs.cardOverview.innerHTML = overview;\n    refs.cardImage.src = posterPath;\n    \n\n    for(let attr in filmObject) {\n        if(filmObject.hasOwnProperty(attr)) {\n            refs.cardModal.dataset[attr] = attr;\n        }\n    }\n}\n\n","import { renderFilmCard } from \"./render-film-card\";\n\nconst refs = {\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  filmCard: document.querySelector('.films__list'),\n  backdropEl: document.querySelector('.backdrop'),\n};\n\nrefs.filmCard.addEventListener('click', toggleModal);\n\nfunction toggleModal(e) {\n  const item = e.target.closest('.films__item');\n  if (!item) {\n    return;\n  }\n  refs.backdropEl.classList.remove('is-hidden');\n  refs.closeModalBtn.addEventListener('click', closeModal);\n  document.addEventListener('keydown', onEscDown);\n  document.addEventListener('click', onBackdropClick);\n  document.body.style.overflow = 'hidden';\n  renderFilmCard(e);\n}\n\nfunction closeModal(e) {\n  refs.backdropEl.classList.add('is-hidden');\n  document.removeEventListener('keydown', onEscDown);\n  document.body.style.overflow = '';\n}\n\nfunction onEscDown(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.backdropEl) {\n    closeModal();\n    console.log(e.target);\n  }\n}\n"],"names":["$aa1852bce7d92573$var$headerWatchedButtonEl","document","querySelector","$aa1852bce7d92573$var$headerQueueButtonEl","addEventListener","classList","toggle","remove","$c58cbb64ab1fde33$var$refs","filmCard","filmsContainer","cardTitle","cardAvarageVotes","cardTotalVotes","cardPopularity","cardOriginalTitle","cardGenres","cardOverview","cardImage","cardModal","$c58cbb64ab1fde33$export$ba095b229a87e01b","e","filmObject","target","closest","dataset","genres","originalTitle","overview","posterPath","title","voteAverage","voteCount","populatiry","arrOfGenres","split","fixedGenres","length","join","innerHTML","Number","parseFloat","toFixed","src","attr","hasOwnProperty","$b89ac968f8ae7162$var$refs","closeModalBtn","backdropEl","$b89ac968f8ae7162$var$closeModal","add","removeEventListener","$b89ac968f8ae7162$var$onEscDown","body","style","overflow","code","$b89ac968f8ae7162$var$onBackdropClick","console","log"],"version":3,"file":"library.f883b1fe.js.map"}