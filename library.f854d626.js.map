{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCCnBT,aACAJ,OAAOM,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPX,OAAOM,eAAeK,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,uCC8BX,IAAAK,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4Bb,GAC1B,IAAIM,EAAQQ,EAAUd,GAOtB,OALKM,IACHA,EAOJ,WACE,IACE,MAAM,IAAIJ,K,CACV,MAAOgB,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOJ,EAAWI,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRR,EAAUd,GAAMM,GAGXA,C,KCZTiB,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,oGCEzD,IAAMC,EAAwBC,SAASC,cAAc,eAC/CC,EAAsBF,SAASC,cAAc,aAEnDF,EAAsBI,iBAAiB,SAGvC,WACEJ,EAAsBK,UAAUC,OAAO,0BACvCH,EAAoBE,UAAUE,OAAO,yB,IAJvCJ,EAAoBC,iBAAiB,SAOrC,WACEJ,EAAsBK,UAAUE,OAAO,0BACvCJ,EAAoBE,UAAUC,OAAO,yB,aCdvCpC,OAAOM,eAAegC,EAAS,aAAc,CACzC7B,OAAO,IAEX6B,EAAQ5B,QAER,SAAuB6B,GACnB,IAAI,IAAItC,EAAI,EAAGA,EAAIuC,UAAUtC,OAAQD,IAAI,CACrC,IAAIwC,EAAyB,MAAhBD,UAAUvC,GAAauC,UAAUvC,GAAK,GAC/CyC,EAAU1C,OAAOD,KAAK0C,GACkB,mBAAjCzC,OAAO2C,wBACdD,EAAUA,EAAQE,OAAO5C,OAAO2C,sBAAsBF,GAAQI,QAAO,SAASC,GAC1E,OAAO9C,OAAO+C,yBAAyBN,EAAQK,GAAKjC,U,MAG5D6B,EAAQM,SAAQ,SAASpC,GACrBqC,EAAqBvC,QAAQ6B,EAAQ3B,EAAK6B,EAAO7B,G,IAGzD,OAAO2B,C,EAdX,IAgBgC5B,EAhB5BsC,GAgB4BtC,EAhBae,EAAA,WAiB3Bf,EAAIuC,WAAavC,EAAM,CACjCD,QAASC,G,MCvBjBwC,EAAiBzB,EAAA,SAAA0B,aAA6C,SAAW1B,EAAA,SAAA2B,QAA6C,SCEtH,IAAMC,EAAO,CACTC,SAAUxB,SAASC,cAAc,UACjCwB,eAAgBzB,SAASC,cAAc,iBAGpC,SAASyB,EAAeC,GAC3B,IAAMC,EAAUD,EAAEnB,OAAOqB,QAAQ,MAAMD,QACjCE,EAAaC,EAAAxB,EAAA,IACZqB,GAGCI,EAA2FF,EAA3FE,OAAQC,EAAmFH,EAAnFG,cAAeC,EAAoEJ,EAApEI,SAAUC,EAA0DL,EAA1DK,WAAYC,EAA8CN,EAA9CM,MAAOC,EAAuCP,EAAvCO,YAAaC,EAA0BR,EAA1BQ,UAAWC,EAAeT,EAAfS,WAC9EC,EAAcR,EAAOS,MAAM,KAC3BC,EAAcF,EAAYrE,OAAS,EAAIqE,EAAY,GAAK,KAAOA,EAAY,GAAK,cAAgBA,EAAYG,KAAK,OAAS,WAC1HC,EAAS,wKASI/B,OALCkB,EAAAX,GAAQ,wJAKSP,OAAlBsB,EAAW,SAGStB,OAHFuB,EAAM,iFAaUvB,OAVduB,GAASH,EAAc,8iBAYlCpB,OAFyBgC,OAAOC,WAAWT,GAAaU,QAAQ,GAAG,uHAKlDlC,OAHjByB,EAAU,gHAIOzB,OADAgC,OAAOC,WAAWP,GAAYQ,QAAQ,GAAG,yDAE7ClC,OADIuB,GAASH,EAAc,qDAK7BpB,OAJE6B,EAAY,6IAIL7B,OAATqB,EAAS,iWAahDX,EAAKC,SAASwB,UAAYJ,C,CC5D9B,IAAMK,EAAO,CACXC,cAAelD,SAASC,cAAc,sBACtCuB,SAAUxB,SAASC,cAAc,gBACjCkD,WAAYnD,SAASC,cAAc,cAkBrC,SAASmD,EAAWzB,GAClBsB,EAAKE,WAAW/C,UAAUiD,IAAI,aAC9BrD,SAASsD,oBAAoB,UAAWC,GACxCvD,SAASwD,KAAKC,MAAMC,SAAW,E,CAGjC,SAASH,EAAU5B,GACF,WAAXA,EAAEgC,MACJP,G,CAIJ,SAASQ,EAAgBjC,GACnBA,EAAEnB,SAAWyC,EAAKE,aACpBC,IACAS,QAAQC,IAAInC,EAAEnB,Q,CA9BlByC,EAAKzB,SAASrB,iBAAiB,SAE/B,SAAqBwB,GAEnB,IADaA,EAAEnB,OAAOqB,QAAQ,gBAE5B,OAEFoB,EAAKE,WAAW/C,UAAUE,OAAO,aACjC2C,EAAKC,cAAc/C,iBAAiB,QAASiD,GAC7CpD,SAASG,iBAAiB,UAAWoD,GACrCvD,SAASG,iBAAiB,QAASyD,GACnC5D,SAASwD,KAAKC,MAAMC,SAAW,SAC/BhC,EAAeC,E","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@swc/helpers/lib/_define_property.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-b53b878707ffcc8f.js","src/js/header-library.js","node_modules/@swc/helpers/lib/_object_spread.js","node_modules/@parcel/runtime-js/lib/runtime-972234b71c263776.js","src/js/render-film-card.js","src/js/modal-film.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library.f854d626.js\\\",\\\"ee16w\\\":\\\"sprite.786c7fd5.svg\\\"}\"));","// ----------------Переключение между кнопками-----------------\n\nconst headerWatchedButtonEl = document.querySelector('.js-watched');\nconst headerQueueButtonEl = document.querySelector('.js-queue');\n\nheaderWatchedButtonEl.addEventListener('click', onWatched);\nheaderQueueButtonEl.addEventListener('click', onQueue);\n\nfunction onWatched() {\n  headerWatchedButtonEl.classList.toggle('header__button--active');\n  headerQueueButtonEl.classList.remove('header__button--active');\n}\n\nfunction onQueue() {\n  headerWatchedButtonEl.classList.remove('header__button--active');\n  headerQueueButtonEl.classList.toggle('header__button--active');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","import imgPath from '../images/sprite.svg';\n\nconst refs = {\n    filmCard: document.querySelector('.modal'),\n    filmsContainer: document.querySelector('.films__list')\n};\n\nexport function renderFilmCard(e) {\n    const dataset = e.target.closest('li').dataset;\n    const filmObject = {\n        ...dataset\n    };\n\n    const { genres, originalTitle, overview, posterPath, title, voteAverage, voteCount, populatiry } = filmObject;\n    const arrOfGenres = genres.split(',');\n    const fixedGenres = arrOfGenres.length > 3 ? arrOfGenres[0] + ', ' + arrOfGenres[1] + ' and others' : arrOfGenres.join(', ') || 'No genre';\n    const markUp = `\n  <div class=\"modal\">\n    <button class=\"modal__btn-close\" data-modal-close>\n        <svg class=\"icon icon-close\" width=\"16\" height=\"16\">\n            <use href=${imgPath}#icon-close></use>\n        </svg>\n    </button>\n    <div class=\"general-wrapper\">\n        <div class=\"card__img-wrapper\">\n            <img src=${posterPath} alt=${title} />\n        </div>\n        <div>\n            <h2 class=\"card__film-title\">${title || originalTitle}</h2>\n            <div class=\"card__info-wrapper\">\n                <div class=\"card__info-wrapper-left\">\n                    <p class=\"card__subdivision card__votes\">Votes</p>\n                    <p class=\"card__subdivision\">Popularity</p>\n                    <p class=\"card__subdivision\">Original Title</p>\n                    <p class=\"card__subdivision\">Genre</p>\n                </div>\n                <div class=\"card__info-wrapper-right\">\n                    <p class=\"card__votes\">\n                        <span class=\"card__vote-title\">${Number.parseFloat(voteAverage).toFixed(1)}</span> /\n                        <span class=\"card__info-text card__vote-number\">\n                              ${voteCount}\n                        </span>\n                    </p>\n                    <p class=\"card__info-text\">${Number.parseFloat(populatiry).toFixed(1)}</p>\n                    <p class=\"card__info-text\">${title || originalTitle}</p>\n                    <p class=\"card__genre\">${fixedGenres}</p>\n                </div>\n            </div>\n            <p class=\"card__about\">About</p>\n            <p class=\"card__description\">${overview}</p>\n            <div class=\"btn-wrapper\">\n                <button class=\"btn-add-watched\" type=\"button\">\n                    add to Watched\n                </button>\n                <button class=\"btn-add-queue\" type=\"button\">\n                    add to queue\n                </button>\n            </div>\n        </div>\n    </div>\n</div>`;\n\n    refs.filmCard.innerHTML = markUp;\n\n}\n\n","import { renderFilmCard } from \"./render-film-card\";\n\nconst refs = {\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  filmCard: document.querySelector('.films__list'),\n  backdropEl: document.querySelector('.backdrop'),\n};\n\nrefs.filmCard.addEventListener('click', toggleModal);\n\nfunction toggleModal(e) {\n  const item = e.target.closest('.films__item');\n  if (!item) {\n    return;\n  }\n  refs.backdropEl.classList.remove('is-hidden');\n  refs.closeModalBtn.addEventListener('click', closeModal);\n  document.addEventListener('keydown', onEscDown);\n  document.addEventListener('click', onBackdropClick);\n  document.body.style.overflow = 'hidden';\n  renderFilmCard(e);\n}\n\nfunction closeModal(e) {\n  refs.backdropEl.classList.add('is-hidden');\n  document.removeEventListener('keydown', onEscDown);\n  document.body.style.overflow = '';\n}\n\nfunction onEscDown(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.backdropEl) {\n    closeModal();\n    console.log(e.target);\n  }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$cb53717e68f10b0d$var$headerWatchedButtonEl","document","querySelector","$cb53717e68f10b0d$var$headerQueueButtonEl","addEventListener","classList","toggle","remove","$9eddae5a012cde57$exports","target","arguments","source","ownKeys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","__esModule","$9e0fd523d56f1f7c$exports","getBundleURL","resolve","$4f95a2de96ad603b$var$refs","filmCard","filmsContainer","$4f95a2de96ad603b$export$ba095b229a87e01b","e","dataset","closest","filmObject","$parcel$interopDefault","genres","originalTitle","overview","posterPath","title","voteAverage","voteCount","populatiry","arrOfGenres","split","fixedGenres","join","markUp","Number","parseFloat","toFixed","innerHTML","$523884499027de00$var$refs","closeModalBtn","backdropEl","$523884499027de00$var$closeModal","add","removeEventListener","$523884499027de00$var$onEscDown","body","style","overflow","code","$523884499027de00$var$onBackdropClick","console","log"],"version":3,"file":"library.f854d626.js.map"}